<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <?php $now = 'ABOUT';
    $menu = 'ABOUT';
    $number = '02';
    ?>
    <?php include 'html_head.php'; ?>
</head>

<body>
    <?php include 'topmenu.php'; ?>
    <div class="aboutWrap">
        <div class="about-animation">
            <div class="text-area flex-container align-center-middle">
                <div class="letter-k"><img src="./images/k.svg"></div>
                <div class="letter-o"><img src="./images/o.svg"></div>
                <div class="letter-i"><img src="./images/i.svg"></div>
                <div class="space"></div>
                <div class="letter-t"><img src="./images/t.svg"></div>
                <div class="letter-h"><img src="./images/h.svg"></div>
                <div class="letter-e"><img src="./images/e.svg"></div>
            </div>
            <div class="number-area">
                <div class="inner-sticky flex-container align-center-middle">
                    <div class="hollow-1"><img src="./images/a-text-hollow.svg" alt=""></div>
                    <div class="hollow-2"><img src="./images/a-text-hollow.svg" alt=""></div>
                    <div class="solid"><img src="./images/a-text-solid.svg" alt=""></div>
                    <div class="hollow-3"><img src="./images/a-text-hollow.svg" alt=""></div>
                    <div class="hollow-4"><img src="./images/a-text-hollow.svg" alt=""></div>
                </div>
            </div>
            <div class="drink-area">
                <ul class="inner-sticky flex-container align-middle align-justify">
                    <li class="drink-1"><img src="./images/a-drink-1.png" alt=""></li>
                    <li class="drink-2"><img src="./images/a-drink-2.png" alt=""></li>
                    <li class="drink-3"><img src="./images/a-drink-3.png" alt=""></li>
                    <li class="drink-4"><img src="./images/a-drink-4.png" alt=""></li>
                    <li class="drink-5"><img src="./images/a-drink-5.png" alt=""></li>
                </ul>
                <div class="bg-change"></div>
            </div>
            <div class="about-info-preview">
                <ul class="about-infoWrap">
                    <li class="flex-container align-middle green">
                        <div class="article-area">
                            <div class="title flex-container align-middle">
                                <div class="deco top"><img src="./images/a-h-deco-top.svg" alt=""></div>
                                <div class="en">
                                    SELECTION OF<br>
                                    FINE INGREDIENTS
                                </div>
                                <div class="ch">严选原物料</div>
                                <div class="deco bottom"><img src="./images/a-h-deco-bottom.svg" alt=""></div>
                            </div>
                            <div class="content">
                                坚持使用传统茶壶煮茶，自制专属器皿，水量、茶叶及温度的完美比例控制，使调茶师能精准掌握每一口茶汤的绝佳口感。即使身处世界各地，也能随时喝到令人回味无穷的好茶。
                            </div>
                        </div>
                        <div class="pic-area"><img src="./images/a-info-pic-1.png" alt=""></div>
                    </li>
                </ul>
            </div>
        </div>
        <ul class="about-infoWrap outter" id="horizontalWrap">
            <li class="flex-container align-middle green">
                <div class="article-area">
                    <div class="title flex-container align-middle">
                        <div class="deco top"><img src="./images/a-h-deco-top.svg" alt=""></div>
                        <div class="en">
                            SELECTION OF<br>
                            FINE INGREDIENTS
                        </div>
                        <div class="ch">严选原物料</div>
                        <div class="deco bottom"><img src="./images/a-h-deco-bottom.svg" alt=""></div>
                    </div>
                    <div class="content">
                        坚持使用传统茶壶煮茶，自制专属器皿，水量、茶叶及温度的完美比例控制，使调茶师能精准掌握每一口茶汤的绝佳口感。即使身处世界各地，也能随时喝到令人回味无穷的好茶。
                    </div>
                </div>
                <div class="pic-area"><img src="./images/a-info-pic-1.png" alt=""></div>
            </li>
            <li class="flex-container align-center-middle blue">
                <div class="article-area">
                    <div class="title flex-container align-middle">
                        <div class="deco top"><img src="./images/a-h-deco-top.svg" alt=""></div>
                        <div class="en">
                            TEA BREWING<br>
                            MASTERS
                        </div>
                        <div class="ch">职人制茶</div>
                        <div class="deco bottom"><img src="./images/a-h-deco-bottom.svg" alt=""></div>
                    </div>
                    <div class="content">
                        鲜采茶叶，唯有高质量茶叶所泡出的浓郁茶香，才能战胜所有挑剔的味蕾。黄金珍珠，天然原料制成，使用不同水温交替烹煮，以确保每颗珍珠的透明饱满和Q弹美味。
                    </div>
                </div>
                <div class="pic-area"><img src="./images/a-info-pic-2.png" alt=""></div>
            </li>
            <li class="flex-container align-center-middle yellow">
                <div class="article-area">
                    <div class="title flex-container align-middle">
                        <div class="deco top"><img src="./images/a-h-deco-top.svg" alt=""></div>
                        <div class="en">
                            PRECISION AND<br>
                            CONSISTENCY
                        </div>
                        <div class="ch">精准口感</div>
                        <div class="deco bottom"><img src="./images/a-h-deco-bottom.svg" alt=""></div>
                    </div>
                    <div class="content">
                        为了确保每一口茶都带来令人愉悦的精致口感，在训练调茶师的过程中，从冰块与茶量的取用，到固定的摇茶手势，每一个细节都须反复练习保持一致。唯有这样的坚持，才能体现好茶在口中的往返留香。
                    </div>
                </div>
                <div class="pic-area"><img src="./images/a-info-pic-3.png" alt=""></div>
            </li>
            <li class="flex-container align-center-middle orange">
                <div class="article-area">
                    <div class="title flex-container align-middle">
                        <div class="deco top"><img src="./images/a-h-deco-top.svg" alt=""></div>
                        <div class="en">
                            HEART-WARMING<br>
                            SERVICE
                        </div>
                        <div class="ch">热情服务</div>
                        <div class="deco bottom"><img src="./images/a-h-deco-bottom.svg" alt=""></div>
                    </div>
                    <div class="content">
                        我们将每位客人视为家人般真诚对待，在友善及热情的门市里，请尽情品味为您量身打造的饮品，享受被茶香簇拥的幸福，同时感受到我们真挚的温暖。
                    </div>
                </div>
                <div class="pic-area"><img src="./images/a-info-pic-4.png" alt=""></div>
            </li>
        </ul>
        <div class="about-ingredient flex-container">
            <div class="pic-area">
                <div class="triangle">
                    <div class="one triangle-1 is-show">茶汤</div>
                    <div class="two triangle-2">甜度</div>
                    <div class="three triangle-3">冰块</div>
                </div>
            </div>
            <div class="article-area">
                <div class="title">
                    <div class="en">
                        THE G<span class="orange">O</span>LDEN TRIANGLE<br>
                        PRINCIPLES THAT<br>
                        K<span class="orange">O</span>I G<span class="orange">O</span><span class="orange">O</span>D TEA
                        IS CRAFTED
                        <div class="ch"></div>
                    </div>
                    <div class="ch">KOI好茶的黄金三角法则</div>
                </div>
                <ul class="slick-article">
                    <li>
                        <div class="en">Tea</div>
                        <div class="ch">茶汤</div>
                        <div class="content">
                            定期水质检测把关，严格控管每一桶茶汤温度，确保每一杯茶饮都能体现精选茶叶的极致风味。
                        </div>
                    </li>
                    <li>
                        <div class="en">Sweetness</div>
                        <div class="ch">甜度</div>
                        <div class="content">经团队反复测试的完美比例，将茶饮的美味提升到另一层次，每一口都散发恰到好处的甜香。</div>
                    </li>
                    <li>
                        <div class="en">Ice</div>
                        <div class="ch">冰块</div>
                        <div class="content">冰块冰块冰块冰块冰块冰块</div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="about-brandmap" id='brand'>
            <div class="title"><img src="./images/a-brand-map-title.svg" alt=""></div>
            <div class="brandmapWrap flex-container align-middle align-justify">
                <div class="prev"><img src="./images/a-prev.svg" alt=""></div>
                <ul class="brandmap flex-container align-center-middle">
                    <li @click="mapHandler(1)"><img src="./images/a-koi-the.svg" alt=""></li>
                    <li @click="mapHandler(2)"><img src="./images/a-koi-express.svg" alt=""></li>
                    <li @click="mapHandler(3)"><img src="./images/a-fifty.svg" alt=""></li>
                    <li @click="mapHandler(4)"><img src="./images/a-koi-cafe.svg" alt=""></li>
                    <li @click="mapHandler(5)"><img src="./images/a-koi-plus.svg" alt=""></li>
                </ul>
                <div class="next"><img src="./images/a-next.svg" alt=""></div>
            </div>
            <ul class="brandmapList">
                <transition name="fade" mode="out-in">
                    <li v-if="map == 1" key="map1"><img src="./images/a-map-1.jpg" alt=""></li>
                    <li v-if="map == 2" key="map2"><img src="./images/a-map-2.jpg" alt=""></li>
                    <li v-if="map == 3" key="map3"><img src="./images/a-map-3.jpg" alt=""></li>
                    <li v-if="map == 4" key="map4"><img src="./images/a-map-4.jpg" alt=""></li>
                    <li v-if="map == 5" key="map5"><img src="./images/a-map-5.jpg" alt=""></li>
                </transition>
            </ul>
        </div>
    </div>
    <?php include 'footer.php'; ?>
</body>
<?php include 'script.php'; ?>

</html>
<script>
    new Vue({
        el: '#brand',
        data: {
            map: 1,
        },
        computed: {},
        methods: {
            mapHandler(i) {
                this.map = i;
            }
        },
        filters: {},
        mounted() {

        },
        updated() { },
    })
    $('nav').addClass('is-move')
    var $tl = gsap.timeline({
        paused: true,
    });
    $tl.to(".text-area .letter-k", {
        duration: 1,
        scale: 1,
        opacity: 1,
        ease: Power1.easeIn,
    })
        .to(".text-area .letter-o", {
            duration: 0.75,
            scale: 1,
            opacity: 1,
            x: 0,
            y: 0,
            ease: Power1.easeIn,
        }, '<.35')
        .to(".text-area .letter-i", {
            duration: 0.75,
            scale: 1,
            opacity: 1,
            x: 0,
            y: 0,
            ease: Power1.easeIn,
        }, '<.25')
        .to(".text-area .letter-t", {
            duration: 0.75,
            scale: 1,
            opacity: 1,
            x: 0,
            y: 0,
            ease: Power1.easeIn,
        }, '<.1')
        .to(".text-area .letter-h", {
            duration: 0.75,
            scale: 1,
            opacity: 1,
            x: 0,
            y: 0,
            ease: Power1.easeIn,
        }, '<.1')
        .to(".text-area .letter-e", {
            duration: 0.75,
            scale: 1,
            opacity: 1,
            x: 0,
            y: 0,
            ease: Power1.easeIn,
        }, '<.1')
    gsap.delayedCall(0.5, function () {
        $tl.play();
    });
    gsap.delayedCall(2.5, function () {
        $('nav').removeClass('is-move')
    });
    let $tl_number = gsap.timeline({
        paused: false,
    })
        .add('number')
        .to(".number-area .hollow-1", {
            y: 324,
        }, 'number')
        .to(".number-area .hollow-2", {
            y: 162,
        }, 'number')
        .to(".number-area .hollow-3", {
            y: -162,
        }, 'number')
        .to(".number-area .hollow-4", {
            y: -324,
        }, 'number')
    ScrollTrigger.create({
        trigger: '.number-area',
        // toggleActions: "play reverse play reverse", //重覆觸發
        start: "20% center",
        end: "60% center",
        // markers: true,
        animation: $tl_number,
        scrub: 1,
    });
    let $tl_drink = gsap.timeline({
        paused: false,
    })
        .add('drink')
        .to(".drink-area li:nth-child(odd)", {
            y: '-100%',
        }, 'drink')
        .to(".drink-area li:nth-child(even)", {
            y: '100%',
        }, 'drink')
        .to(".drink-area .bg-change", {
            opacity: 1,
        }, '<0.1')
    ScrollTrigger.create({
        trigger: '.drink-area',
        // toggleActions: "play reverse play reverse", //重覆觸發
        start: "10% center",
        end: "bottom center",
        // markers: true,
        animation: $tl_drink,
        scrub: 1,
    });
    let $tl_info = gsap.timeline({
        paused: false,
    })
        .to(".about-info-preview .about-infoWrap", {
            opacity: 1,
        })
    ScrollTrigger.create({
        trigger: '.about-info-preview',
        // toggleActions: "play reverse play reverse", //重覆觸發
        start: "10% top",
        end: "50% top",
        // markers: true,
        animation: $tl_info,
        scrub: 1,
    });
    // let $tl_info_no = gsap.timeline({
    //         paused: false,
    //     })
    //     .to(".about-info-preview", {
    //         opacity: 0,
    //     })
    ScrollTrigger.create({
        trigger: '.about-infoWrap.outter',
        // toggleActions: "play reverse play reverse", //重覆觸發
        start: "top top",
        end: "bottom top",
        // markers: true,
        onEnter() {
            $('.about-info-preview').addClass('is-not-show');
        },
        // onLeave() {
        //     $('.about-info-preview').removeClass('is-not-show');
        // },
        onEnterBack() {
            $('.about-info-preview').addClass('is-not-show');
        },
        onLeaveBack() {
            $('.about-info-preview').removeClass('is-not-show');
        }
    });
    function horizonHandler(el) {
        let _x = $(el).outerWidth(true) - $(window).width()
        console.log(_x);
        let storenum = {
            n: 1
        }
        const $tl = gsap.timeline({
            paused: false,
        })
        if (_x > 0) {
            gsap.to(el, {
                scrollTrigger: {
                    toggleActions: "play pause resume reverse",
                    trigger: "#horizontalWrap",
                    start: "top 0%",
                    end: `+=${_x}`,
                    pin: "#horizontalWrap",
                    pinSpace: false,
                    scrub: true,
                    // markers: true,
                    onUpdate: (self) => {
                        let $about = $(".about-infoWrap#horizontalWrap")
                        let m = $(window).width() / 2
                        $about.children().each(function (i, el) {
                            let x = $(el).offset().left
                            if (x - m <= 0) {
                                $(el).addClass("current").siblings().removeClass("current")
                            }
                        })
                    }
                },
                x: -_x,
                ease: 'none'
            })
            ScrollTrigger.create({
                toggleActions: "play pause resume reverse",
                trigger: "#horizontalWrap",
                start: "top 0%",
                end: `+=${_x}`,
                pinSpace: false,
                scrub: true,
                // markers: true,
                // animation: $tl,
            });
        }
    }
    horizonHandler('.about-infoWrap#horizontalWrap');
    $('.slick-article').slick({
        dots: true,
        speed: 1000,
        slidesToShow: 2,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 5000,
        vertical: true,
        verticalSwiping: true,
        arrows: false,
    });
    $('.slick-article').on('beforeChange', function (event, slick, currentSlide, nextSlide) {
        console.log(nextSlide);
        $(`.triangle .triangle-${nextSlide + 1}`).addClass('is-show').siblings().removeClass('is-show');
    });
    var dotNums = document.querySelectorAll(".slick-dots button");
    function removeText(item) {
        item.innerHTML = ""; // or put the text you need inside quotes
    }
    dotNums.forEach(removeText);
</script>